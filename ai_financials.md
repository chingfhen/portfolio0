---
layout: notdefault
---

# AI in Financial Analytics 
Financial analytics involves the use of data and statistical models to make informed business decisions, optimize financial performance, and manage risks. Generative AI enhances financial analytics by identifying patterns, and generating insights that might be missed by traditional methods. 

At its core, we are feeding into Large Language Models (LLMs) financial data which are typically numerical, and we are expecting textual insights, recommendations, or strategic financial decisions that are grounded by accurate numbers and statistical techniques.

For instance, given the accounts receivables (AR) data (outstanding invoices paid by credit - owed money), the LLM should be able to generate descriptive insights such as whether AR is increasing or decreasing and prescriptive recommendations such as enforcing stricter credit policies to ensure payments are on-time.

This blog documents how i leveraged Generative AI to analyze tabular financial data and generate high quality insights and recommendations. At the end of this blog, you will learn a thing or two about how to transform tabular data into valuable insights using Generative AI, and apply the lessons into your own usecase.

Watch the demo [here](https://drive.google.com/file/d/1GR2Zc3fGGLxfUhg9OH05LlVe1y6GP1Ys/view?usp=sharing)

### Problems and Considerations
The problem of transforming numerical data into textual insights using LLMs may look trivial on the surface. However, as we get our hands dirty, we may start to hit roadblocks and issues that require us to be creative in our approach. Here are some problems and factors that i took into consideration:

- Performance 
- Accuracy 
- Contextual Clarity
- Cost
- Data Retrieval

#### Performance
The quality of responses generated by your LLM is highly dependent in quality of inputs that you feed in. As the saying goes for all AI models: 

> Garbage in, Garbage out.

We could be dealing with hundreds of tables with thousands of columns and millions of rows - much of these rows and columns are often redundant for analytics. Feeding into the LLM raw tables often lead to poor responses; transforming and filtering tabular data. Doing so will also benefit from with reduced token costs.

> It is helpful to reduce redundancy by filtering away repeating or irrelavant columns, rows or data that are not useful for final inference


#### Accuracy
In financial analytics, we also want to ensure that the tabular data we feed into the LLMs are accurate. 

We can do this by avoiding unnecessary complexity. One way to increase complexity is to use LLMs to perform SQL queries to retrieve the tabular data. Though this is a valid approach, this may sometimes backfire when the SQL queries become too complex; utlizing LLMs to write SQL queries may introduce unexpected errors and inaccuracies. In the context of financial analytics, inaccuracies in numeric data is something we want to avoid.

> Utilizing LLMs to perform data transformation can introduce complexity and inaccuracies; we should carefully weigh if that is something our usecase can tolerate

#### Contextual Clarity
This point is similar to the first - if the LLM misunderstands the financial data the you give it, it will generate poor insights. 

We must remember that LLMs are called 'language' models because they understand language and text. Feeding pure numerical data will not give the LLM meaningful contextual information to complete the task. We can improve the contextual clarity for the LLM by writing descriptive column names, table descriptions, and avoiding abbreviations.

> Being descriptive about what the tabular data is about helps improve the quality of responses

#### Data Retrieval
Sometimes our analytics may require us to retrieve tabular data from a large collection of tables based on a user query, such as a chatbot. In such cases, how can we retrieve only the relevant tables, columns, and rows accurately? This problem falls in the category of Retrieval Augmented Generation (RAG).

Essentially, we need to develop a retrieval system. A possible approach is to semantically or lexically retrieve tables, whose descriptions are most similar to the user's query. This means to either retrieve tables by vector similarity, by lexical ranking algorithms, or both. One challenge we may face with this approach is writing a suitable table description. If the table descriptions are not suitably written, the table retrieval performance will be poor, regardless of how powerful our ranking algorithms are.

For that reason, I devised a different RAG approach which was more suitable for this particular problem of tabular data retrieval.

> Depending on the nature of your data and requirements, the most suitable approach to data retrieval may vary

### Solution Devised
The goal is to enable users to extract meaningful insights from financial tabular data so that they can make better strategic decisions for a company. My solution has two user interfaces:

1. CustomGPT 
Purpose: Provides a real-time chat interface for users to generate insights and diagrams about the health of their company financials instantly

![alt text](/assets/images/customgpt_snippet.png)

2. PowerBI 
Purpose: Displays pre-generated AI financial insights along with financial charts created by PowerBI
![alt text](/assets/images/powerbi_dashboard.png)


### Data Flow
The raw financial data resides in MySQL Database. They are transformed into insights through the following steps:
1. Raw data is aggregated and transformed raw data into views.
- these views are more suitable for

Databricks notebooks  that are more useful for analysis. For instance, revenue, cash flow, and accounts receivable views
2. These financial data views are stored as Azure Files which act as a warehouse
3. 
![alt text](/assets/images/data_flow.png)







Text can be **bold**, _italic_, or ~~strikethrough~~. Hello bro

[Link to another page](./another-page.html).

[Link to some other page](./some-other-page.html).

There should be whitespace between paragraphs.

There should be whitespace between paragraphs. We recommend including a README, or a file with information about your project.

# Header 1

This is a normal paragraph following a header. GitHub is a code hosting platform for version control and collaboration. It lets you and others work together on projects from anywhere.

## Header 2

> This is a blockquote following a header.
>
> When something is important enough, you do it even if the odds are not in your favor.

### Header 3

```js
// Javascript code with syntax highlighting.
var fun = function lang(l) {
  dateformat.i18n = require('./lang/' + l)
  return true;
}
```

```ruby
# Ruby code with syntax highlighting
GitHubPages::Dependencies.gems.each do |gem, version|
  s.add_dependency(gem, "= #{version}")
end
```

### Header in Contents 

#### Header not in Contents 




#### Header 4

*   This is an unordered list following a header.
*   This is an unordered list following a header.
*   This is an unordered list following a header.

##### Header 5

1.  This is an ordered list following a header.
2.  This is an ordered list following a header.
3.  This is an ordered list following a header.

###### Header 6

| head1        | head two          | three |
|:-------------|:------------------|:------|
| ok           | good swedish fish | nice  |
| out of stock | good and plenty   | nice  |
| ok           | good `oreos`      | hmm   |
| ok           | good `zoute` drop | yumm  |

### There's a horizontal rule below this.

* * *

### Here is an unordered list:

*   Item foo
*   Item bar
*   Item baz
*   Item zip

### And an ordered list:

1.  Item one
1.  Item two
1.  Item three
1.  Item four

### And a nested list:

- level 1 item
  - level 2 item
  - level 2 item
    - level 3 item
    - level 3 item
- level 1 item
  - level 2 item
  - level 2 item
  - level 2 item
- level 1 item
  - level 2 item
  - level 2 item
- level 1 item

### Small image

![Octocat](https://github.githubassets.com/images/icons/emoji/octocat.png)

### Large image

![Branching](https://guides.github.com/activities/hello-world/branching.png)


### Definition lists can be used with HTML syntax.

<dl>
<dt>Name</dt>
<dd>Godzilla</dd>
<dt>Born</dt>
<dd>1952</dd>
<dt>Birthplace</dt>
<dd>Japan</dd>
<dt>Color</dt>
<dd>Green</dd>
</dl>

```
Long, single-line code blocks should not wrap. They should horizontally scroll if they are too long. This line should be long enough to demonstrate this.
```

```
The final element.
```
